---
creator: 구성현
type: Hands-On
created: 2022-07-26
---
## Github — source code for paper

[GitHub - tohojo/xdp-paper: Source text and experimental data for our paper describing XDP](https://github.com/tohojo/xdp-paper)

### TRex

[TRex](https://trex-tgn.cisco.com/trex/doc/trex_manual.html#_download_and_installation)

- trex_cfg02.yaml
    
    ```yaml
    ### Config file generated by dpdk_setup_ports.py ###
    
    - version: 2
      interfaces: ['65:00.0', '65:00.1']
      port_info:
          - ip: 1.1.1.1
            default_gw: 2.2.2.2
          - ip: 2.2.2.2
            default_gw: 1.1.1.1
    
      platform:
          master_thread_id: 0
          latency_thread_id: 19
          dual_if:
            - socket: 0
              threads: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]
    ```
    

```bash
# ethernet과 연결되어있는 pci 확인
lspci | grep Ethernet

# trex 패키지 다운
mkdir -p /opt/trex
cd /opt/trex
wget --no-cache --no-check-certificate <https://trex-tgn.cisco.com/trex/release/latest>
tar -xzvf latest

# dpdk set up
cd v2.99
sudo ./dpdk_setup_ports.py -c 65:00.0 65:00.1 -o trex_cfg02.yaml
sudo ./dpdk_setup_ports.py -i
sudo ./dpdk_setup_ports.py -s  # dpdk 정보 확인

# cd /opt/trex/v2.99/
# trex daemon (server) 실행
sudo ./t-rex-64 -c 6 -i

# 다른 윈도우를 열어 콘솔 실행
./trex-console

# benchmark script 실행 -> 오류
start -f stl/udp_for_benchmarks.py -t packet_len=64,stream_count=12 --port 0 -m 100mpps

	start - **Port 0 dest MAC is invalid and there are streams without explicit dest MAC.**

```